@using System.Collections.Generic
@using System.Linq
@using Microsoft.AspNetCore.Http
@using Microsoft.AspNetCore.Http.Authentication
@model List<TrainingProgram>
@inject SignInManager<AppUser> SignInManager
@inject UserManager<AppUser> UserManager
@{
    ViewData["Title"] = "My Programs";
    AppUser user = null;
    if (SignInManager.IsSignedIn(User))
    {
        user = await UserManager.GetUserAsync(User);
    }
}
<h2>@ViewData["Title"]</h2>
<hr />
<div class="container">
    @if (Model.Count == 0)
    {
        <div class="row text-center">
            <h5>You don't have any programs right now....</h5>
            <div class="form-group col-md-12">
                <button class="btn btn-primary col-md-12" onclick="CreateProgram();" data-toggle="modal" data-target="#CreateProgramModal">Add new program right now!</button>
            </div>
        </div>

    }
    else
    {
        @foreach (var item in Model)
        {
            <div>@item.name</div>
        }
        <p>
            <button onclick="CreateProgram();">Add new program right now!</button>
        </p>

    }

    <div class="modal fade" id="CreateProgramModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <input id="myInput" type="text" />
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary">Save changes</button>
                </div>
            </div>
        </div>
    </div>
</div>
@section Scripts {
    @await Html.PartialAsync("_ValidationScriptsPartial")

    <script>
        $("#CreateProgramModal").on("shown.bs.modal", function () {
            $("#myInput").trigger('focus');
        });
    </script>

}

